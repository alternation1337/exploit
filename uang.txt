<?php 
include 'getWalletId.php'; 
$user_id = $_SESSION['session_user_id'];
$user_email = $_SESSION['session_user_email'];
?>
<!doctype html>
<html class="no-js " lang="en">


<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

<title>Fxtradepress Dashboard</title>
<link rel="icon" href="../assets/images/tradepress.png" type="image/x-icon">
<!-- Favicon-->
<link rel="stylesheet" href="../assets/plugins/bootstrap/css/bootstrap.min.css">
<!-- Light Gallery Plugin Css -->
<link rel="stylesheet" href="../assets/plugins/light-gallery/css/lightgallery.css">
<link rel="stylesheet" href="../assets/plugins/fullcalendar/fullcalendar.min.css">
<!-- Custom Css -->
<link rel="stylesheet" href="../assets/css/style.min.css">
</head>

<body class="theme-blush">

<!-- Page Loader -->
<div class="page-loader-wrapper">
    <div class="loader">
        <div class="m-t-30"><img class="zmdi-hc-spin" src="../assets/images/tradepress-loader-logo.png" width="50" height="50" alt="Fxtradepress"></div>
        <p>Fxtradepress</p>
    </div>
</div>
<?php include_once '../dashboardsidebar.php'; ?>
<!-- Overlay For Sidebars -->
<div class="overlay"></div>

<!-- Left Sidebar -->
<aside id="leftsidebar" class="sidebar">
    <div class="navbar-brand">
        <button class="btn-menu ls-toggle-btn" type="button"><i class="zmdi zmdi-menu"></i></button>
        <a href="../.."><img src="../../images/tradepress-logo.png" width="100" alt="Fxtradepress"></a>
    </div>
    <div class="menu">
        <ul class="list">
            <li>
                <div class="user-info">
                    <a class="image"><img src="../assets/images/male.png"  alt="User"></a>
                    <div class="detail">
                        <h4><?php echo $name; ?></h4>
                        <small>Super Investor</small>                        
                    </div>
                </div>
            </li>
            <li><a href="../dashboard"><i class="zmdi zmdi-chart"></i><span>Dashboard</span></a></li>
            <li class="active"><a><i class="zmdi zmdi-money"></i><span>Add Funds</span></a></li>
            <li><a href="../funding-history"><i class="zmdi zmdi-time"></i><span>Funding History</span></a></li>
            <li><a href="../new-investment"><i class="zmdi zmdi-money"></i><span>New Investment</span></a></li>
            <li><a href="../withdraw"><i class="zmdi zmdi-money"></i><span>Make Withdrawal</span></a></li>
            <li><a href="../withdrawal-history"><i class="zmdi zmdi-time"></i><span>Withdrawal History</span></a></li>
            <li><a href="../change-password"><i class="zmdi zmdi-lock"></i><span>Change Password</span></a></li>
            <li><a href="../sign-out"><i class="zmdi zmdi-power"></i><span>Sign Out</span></a></li>
            <li><a href="../../"><i class="zmdi zmdi-home"></i><span>Return Home</span></a></li>
        </ul>
    </div>
</aside>



           <script type="text/javascript">
                                    var bitcoinToDollar = 31357;

                                    var stringValue = `<p style="color: green;">You have to transfer 0.045 bitcoin to the company's wallet address</p><p style="color: green; text-align: center; font-size:30px;"><?php echo $current_id; ?></p>`;
                                    var err_noValue = '<p style="color: red;">You have to enter an amount to be credited to your account.</p>';
                                    var err_outboundValue = '<p style="color: red;">Sorry, you can only credit your account with amounts between $100 and $10000.</p>';
                                    var errdiv = document.getElementById('err_div');

                            function CalculateAmount()
                            {
                                var inputtedValue = document.getElementById('pay_amount').value;
                                err_div.style.display = 'none';
                                if(inputtedValue == undefined || inputtedValue == '' || inputtedValue == null)
                                {
                                err_div.innerHTML = err_noValue;
                                err_div.style.display = 'block';
                                }
                                else
                                {
                                    if(inputtedValue > 1000000 || inputtedValue < 100)
                                    {
                                        err_div.innerHTML = err_outboundValue;
                                        err_div.style.display = 'block';
                                    }
                                    else
                                    {
                                        dollarvalue = inputtedValue/bitcoinToDollar
                                        truncated = Math.floor(dollarvalue * 1000000) / 1000000;
                                        stringValue = `<p style="color: green; padding: 20px;" >You have to transfer `+truncated+` bitcoin to the company's wallet address</p><p style="color: green; text-align: center; font-size:15px;">bc1qd06d9s092lq60zjn0vfxcuxprdaamupz7m6e79</p>
                                        <div style="text-align: center;">
                                            <a class="btn btn-primary btn-sm" id = "copyButton" onclick="myFunction()" style="text-align: center; color: white;">Copy wallet address</a></div>`;
                                        err_div.innerHTML = stringValue;
                                        err_div.style.display = 'block';
                                    }
                                }
                                // body...
                            }


                                function myFunction() {
                                navigator.permissions.query({name: "clipboard-write"}).then(result => {
                                if (result.state == "granted" || result.state == "prompt") {
                                /* write to the clipboard now */
                                 updateClipboard('bc1qd06d9s092lq60zjn0vfxcuxprdaamupz7m6e79')
                                }
                                });

                                }

      // function myFunction() {
      //                             /* Get the text field */
      //                             var copyText = document.getElementById("myInput");

      //                             /* Select the text field */
      //                             copyText.select(); 
      //                             copyText.setSelectionRange(0, 99999); /*For mobile devices*/

      //                             /* Copy the text inside the text field */
      //                             document.execCommand("copy");

      //                             /* Alert the copied text */
      //                             document.getElementById("copyButton").innerHTML = 'copied';
      //                           }





                                function updateClipboard(newClip) {
                                navigator.clipboard.writeText(newClip).then(function() 
                                {
                                /* clipboard successfully set */
                                 document.getElementById("copyButton").innerHTML = 'copied';
                                }, function() 
                                {
                                /* clipboard write failed */
                                 document.getElementById("copyButton").innerHTML = 'Sorry, an error occured. Please try copying the address manually.';
                                });
                                }



                                var usdtToDollar = 1;
var stringValue = `<p style="color: green;">You have to transfer 0.045 bitcoin to the company's wallet address</p><p style="color: green; text-align: center; font-size:30px;"><?php echo $current_id; ?></p>`;
var usdt_err_noValue = '<p style="color: red;">You have to enter an amount to be credited to your account.</p>';
var usdt_err_outboundValue = '<p style="color: red;">Sorry, you can only credit your account with amounts between $100 and $10000.</p>';
var usdt_errdiv = document.getElementById('err_div');

function usdt_CalculateAmount()
{
var inputtedValue = document.getElementById('usdt_pay_amount').value;
usdt_err_div.style.display = 'none';
if(inputtedValue == undefined || inputtedValue == '' || inputtedValue == null)
{
usdt_err_div.innerHTML = usdt_err_noValue;
usdt_err_div.style.display = 'block';
}
else
{
if(inputtedValue > 1000000 || inputtedValue < 100)
{
    usdt_err_div.innerHTML = usdt_err_outboundValue;
    usdt_err_div.style.display = 'block';
}
else
{
    dollarvalue = inputtedValue/usdtToDollar
    truncated = Math.floor(dollarvalue * 1000000) / 1000000;
    stringValue = `<p style="color: green; padding: 20px;" >You have to transfer `+truncated+` USDT to the company's wallet address</p>
    <div style="text-align: center;">
    <p style="color: green; text-align: center; font-size:15px;">TDy2st3ARvffEp5TzWuuTf81pbbY5oWFeZ</p>
        <a class="btn btn-primary btn-sm" id = "usdt_copyButton" onclick="usdt_myFunction()" style="text-align: center; color: white;">Copy wallet address</a></div>`;
        usdt_err_div.innerHTML = stringValue;
        usdt_err_div.style.display = 'block';
}
}
// body...
}


function usdt_myFunction() {
navigator.permissions.query({name: "clipboard-write"}).then(result => {
if (result.state == "granted" || result.state == "prompt") {
/* write to the clipboard now */
usdt_updateClipboard('TDy2st3ARvffEp5TzWuuTf81pbbY5oWFeZ')
}
});

}




function usdt_updateClipboard(newClip) {
navigator.clipboard.writeText(newClip).then(function() 
{
/* clipboard successfully set */
document.getElementById("usdt_copyButton").innerHTML = 'copied';
}, function() 
{
/* clipboard write failed */
document.getElementById("usdt_copyButton").innerHTML = 'Sorry, an error occured. Please try copying the address manually.';
});
}




                                function uploadProofOfPayment()
                                {
                                    $("#proofOfPaymentErrorDiv").empty()

                                    var paid_amount = document.getElementById('paid_amount').value
                                    var uploadedFile = document.getElementById('proof_of_payment').files[0]

                                    if(paid_amount == undefined || paid_amount == null || paid_amount < 1)
                                    {
                                        $("#proofOfPaymentErrorDiv").append('<p style="color: red;">please enter a valid amount</p>')
                                        return
                                    }


                                    if(paid_amount < 100 || paid_amount > 1000000)
                                    {
                                        $("#proofOfPaymentErrorDiv").append(`<p style="color: red;">You can only fund your account with amounts
                                        between $100 and $1,000,000</p>`)
                                        return
                                    }


                                    if(uploadedFile == null || uploadedFile == undefined)
                                    {
                                        $("#proofOfPaymentErrorDiv").append(`<p style="color: red;">Please upload a proof of payment</p>`)
                                        return
                                    }




                                    var formData = new FormData();
                                    formData.append('proof_of_payment', uploadedFile)
                                    formData.append('amount_paid', paid_amount)

                                    $.ajax({
                                        url : 'upload-proof-of-payment-logic.php',
                                        type : 'POST',
                                        data : formData,
                                        processData: false,  // tell jQuery not to process the data
                                        contentType: false,  // tell jQuery not to set contentType
                                        success : function(data) 
                                        {
                                            $('#proofOfPaymentResultDiv').append(data);
                                            
                                        }
                                    });
                                }
                                </script>


<!-- Deposit Modal -->
<div class="modal fade" id="defaultModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="title" id="defaultModalLabel">Funding details</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>$100 - $1,000,000</label>
                    <input type="number" id="pay_amount" name="amount" class="form-control" required placeholder="Enter Amount"/>
                </div>
            </div>
            <div>
                <p id="err_div" style="padding: 10px;"></p>
                <div id="result" style="padding: 10px;"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-round waves-effect" data-dismiss="modal">Cancel</button>
                <button type="button" style="margin: 2px;" onclick="CalculateAmount()" class="btn btn-danger waves-effect">Go</button>
            </div>
        </div>
    </div>
</div>
<!-- Deposit Modal ends here -->

<!-- Deposit Modal -->
<div class="modal fade" id="proof-of-payment-upload" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="title" id="defaultModalLabel" style="text-align: center;">Proof Of Payment</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>$100 - $1,000,000</label>
                    <input type="number" id="paid_amount" name="amount" class="form-control" required placeholder="Enter Amount Paid"/>
                </div>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Upload proof of payment</label>
                    <input type="file" name="proof_of_payment" id="proof_of_payment" class="form-contro" accept=
                    "application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,
                    text/plain, application/pdf, image/*">
                </div>
            </div>
            <div>
                <p id="proofOfPaymentErrorDiv" style="padding: 10px;"></p>
                <div id="proofOfPaymentResultDiv" style="padding: 10px;"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-round waves-effect" data-dismiss="modal">Cancel</button>
                <button type="button" style="margin: 2px;" onclick="uploadProofOfPayment()" class="btn btn-danger waves-effect">Upload</button>
            </div>
        </div>
    </div>
</div>
<!-- Deposit Modal ends here -->


<!-- Deposit Modal -->
<div class="modal fade" id="usdt-defaultModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="title" id="defaultModalLabel">Funding details (USDT TRC20 Network)</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>$100 - $1,000,000</label>
                    <input type="number" id="usdt_pay_amount" name="amount" class="form-control" required placeholder="Enter Amount"/>
                </div>
            </div>
            <div>
                <p id="usdt_err_div" style="padding: 10px;"></p>
                <div id="usdt_result" style="padding: 10px;"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-round waves-effect" data-dismiss="modal">Cancel</button>
                <button type="button" style="margin: 2px;" onclick="usdt_CalculateAmount()" class="btn btn-danger waves-effect">Go</button>
            </div>
        </div>
    </div>
</div>
<!-- Deposit Modal ends here -->



<section class="content">
    <div class="body_scroll">
        <div class="block-header mb-3">
            <div class="row">
                <div class="col-lg-7 col-md-6 col-sm-12">
                    <h2>User Dashboard</h2>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a  style="color: rgb(120, 120, 120);">Fxtradepress</a></li>
                    </ul>
                    <button class="btn btn-primary btn-icon mobile_menu" type="button"><i class="zmdi zmdi-sort-amount-desc"></i></button>
                </div>
                <div class="col-lg-5 col-md-6 col-sm-12">                
                    <button class="btn btn-primary btn-icon float-right right_icon_toggle_btn" type="button"><i class="zmdi zmdi-arrow-right"></i></button>
                </div>
            </div>
        </div> 
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
            
                        <!-- panel body -->
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="panel panel-info" data-collapsed="0">
                                        <!-- panel head -->
                                        <div class="panel-heading">
                                            <div class="panel-title"><strong>Bitcoin</strong></div>
            
                                        </div>
                                        <!-- panel body -->
                                        <div class="panel-body">
                                            <img width="100%" class="image-responsive" style="height: 170px;"
                                                src="../assets/images/bitcoin.jpeg" alt="">
                                        </div>
                                            <a style="color: white;" class="btn btn-info btn-block" data-toggle="modal" data-target="#defaultModal"><i
                                                    class="zmdi zmdi-crypto"></i>See funding details</a>
                                        
                                    </div>
                                </div>


                               

                                <div class="col-md-3">
                                    <div class="panel panel-info" data-collapsed="0">
                                        <!-- panel head -->
                                        <div class="panel-heading">
                                            <div class="panel-title"><strong>USDT (TRC20 Network)</strong></div>
            
                                        </div>
                                        <!-- panel body -->
                                        <div class="panel-body">
                                            <img width="100%" class="image-responsive" style="height: 170px;"
                                                src="../assets/images/usdt.jpeg" alt="">
                                        </div>
                                            <a style="color: white;" class="btn btn-info btn-block" data-toggle="modal" data-target="#usdt-defaultModal"><i
                                                    class="zmdi zmdi-crypto"></i>See funding details</a>
                                        
                                    </div>

                                    
                                </div>
            
                                <div class="col-md-3">
                                    <div class="panel panel-info" data-collapsed="0">
                                        <!-- panel head -->
                                        <div class="panel-heading">
                                            <div class="panel-title"><strong>Proof Of Payment</strong></div>
            
                                        </div>
                                        <!-- panel body -->
                                        <div class="panel-body">
                                            <img width="100%" class="image-responsive" style="height: 170px;"
                                                src="../assets/images/fund-account.jpeg" alt="">
                                        </div>
                                            <a style="color: white;" class="btn btn-info btn-block" data-toggle="modal" data-target="#proof-of-payment-upload"><i
                                                    class="zmdi zmdi-crypto"></i>Upload</a>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
            
                    </div>
                </div>
            </div>
            <!---ROW-->
            </div>
           
        </div>
    </div>
</section>





<!-- Jquery Core Js --> 
<script src="../assets/bundles/libscripts.bundle.js"></script> <!-- Lib Scripts Plugin Js --> 
<script src="../assets/bundles/vendorscripts.bundle.js"></script> <!-- Lib Scripts Plugin Js --> 

<script src="../assets/plugins/light-gallery/js/lightgallery-all.min.js"></script> <!-- Light Gallery Plugin Js --> 
<script src="../assets/bundles/fullcalendarscripts.bundle.js"></script><!--/ calender javascripts --> 

<script src="../assets/bundles/mainscripts.bundle.js"></script><!-- Custom Js -->
<script src="../assets/js/pages/medias/image-gallery.js"></script>
<script src="../assets/js/pages/calendar/calendar.js"></script>
</body>

</html>